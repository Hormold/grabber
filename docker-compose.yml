services:
  grabber:
    build: .
    container_name: grabber
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - DB_PATH=/app/data/grabber.db
      - BIRD_CMD=cd /bird && bun run src/index.ts
    volumes:
      - grabber-data:/app/data
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"

volumes:
  grabber-data:
